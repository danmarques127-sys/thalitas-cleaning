<!-- contact-us.html — SECURE + CAPTCHA (hCaptcha) + FIXED (no nested HTML) -->
<!doctype html>
<html lang="en">
<head>
  <!-- ================= BASIC / SEO ================= -->
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <title>Request a Free Estimate | Thalita’s Cleaning LLC</title>
  <meta name="description" content="Request a free cleaning estimate in Massachusetts. We respond within 24 hours. Residential, commercial, deep cleaning, move-in/out, and post-construction." />
  <meta name="robots" content="index,follow,max-image-preview:large,max-snippet:-1,max-video-preview:-1" />
  <link rel="canonical" href="https://thalitascleaning.com/contact-us.html" />
  <link rel="alternate" href="https://thalitascleaning.com/contact-us.html" hreflang="en" />

  <!-- ================= SOCIAL META (Open Graph / Twitter) ================= -->
  <meta property="og:type" content="website" />
  <meta property="og:site_name" content="Thalita’s Cleaning" />
  <meta property="og:title" content="Request a Free Estimate | Thalita’s Cleaning" />
  <meta property="og:description" content="Get a personalized cleaning quote. We respond within 24 hours." />
  <meta property="og:url" content="https://thalitascleaning.com/contact-us.html" />
  <meta property="og:image" content="https://thalitascleaning.com/images/hero1.jpg" />
  <meta property="og:image:width" content="1200" />
  <meta property="og:image:height" content="630" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Request a Free Estimate | Thalita’s Cleaning" />
  <meta name="twitter:description" content="Get a personalized cleaning quote. We respond within 24 hours." />
  <meta name="twitter:image" content="https://thalitascleaning.com/images/hero1.jpg" />

  <!-- ================= PERFORMANCE HINTS ================= -->
  <link rel="preconnect" href="https://js.hcaptcha.com" crossorigin>

  <!-- ================= FAVICONS & MANIFEST ================= -->
  <link rel="icon" type="image/x-icon" href="/favicon.ico">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png?v=1">
  <link rel="icon" type="image/png" sizes="64x64" href="/icons/favicon-64x64.png?v=1">
  <link rel="icon" type="image/png" sizes="128x128" href="/icons/favicon-128x128.png?v=1">
  <link rel="apple-touch-icon" href="/icons/apple-touch-icon.png?v=1">
  <link rel="manifest" href="/site.webmanifest">
  <meta name="theme-color" content="#ffffff">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/favicon-128x128.png?v=1">

  <!-- ================= CSS PRINCIPAL ================= -->
  <link rel="stylesheet" href="style.css" />

  <!-- ================= hCaptcha (CAPTCHA) =================
    IMPORTANT:
    1) Create your hCaptcha site (free) and get a Site Key (public) + Secret Key (private).
    2) Replace YOUR_HCAPTCHA_SITEKEY below with your real site key.
    NOTE:
    - hCaptcha token will be included in the form submit.
    - For REAL enforcement, your form endpoint/service must verify the token server-side.
      Formspree can do spam protection depending on plan/settings.
  -->
  <script src="https://js.hcaptcha.com/1/api.js" async defer></script>

  <style>
    /* utilitária global para acessibilidade */
    .sr-only{
      position:absolute !important;
      width:1px;
      height:1px;
      padding:0;
      margin:-1px;
      overflow:hidden;
      clip:rect(0,0,0,0);
      white-space:nowrap;
      border:0;
    }

    /* lock-scroll quando menu mobile aberto */
    .no-scroll { overflow:hidden; height:100vh; }

    /* ================= HEADER (copiado do seu padrão) ================= */
    .topbar {
      position:sticky;
      top:0;
      z-index:9999;
      background:linear-gradient(180deg,#C16E7A,#A15363);
      color:#fff;
      border-bottom:none;
    }

    .container.header {
      display:flex;
      align-items:center;
      justify-content:space-between;
      flex-wrap:wrap;
      gap:1rem;
      padding:0.75rem 1rem;
      max-width:1100px;
      margin:0 auto;
    }

    .brand { display:flex; flex-direction:column; line-height:1.2; }

    .brand img, .brand .logo{
      max-height:72px;
      height:auto;
      width:auto;
      display:block;
    }

    .nav-toggle{
      background:#fff;
      border:1px solid #cbd5e1;
      border-radius:6px;
      padding:.5rem .6rem;
      cursor:pointer;
      line-height:0;
      display:none;
    }
    .nav-toggle .bar{
      display:block;
      width:22px;
      height:2px;
      background:#0f172a;
      margin:4px 0;
      border-radius:1px;
    }

    #site-nav.nav{
      display:flex;
      align-items:flex-start;
      gap:1rem;
      flex-wrap:nowrap;
      font-family:system-ui,-apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
      font-size:.9rem;
      line-height:1.4;
      background:transparent;
      border:none;
      box-shadow:none;
      border-radius:0;
      width:auto;
      position:static;
    }

    .nav-list{
      display:flex;
      flex-wrap:wrap;
      align-items:center;
      gap:1rem 1.25rem;
      list-style:none;
      margin:0;
      padding:0;
    }

    .nav-list > li > a{
      text-decoration:none;
      color:#fff;
      font-weight:600;
      display:inline-flex;
      align-items:center;
      gap:.4rem;
    }
    .nav-list > li > a:hover{
      color:#fff;
      text-decoration:underline;
    }

    .has-dropdown{ position:relative; }
    .has-dropdown > .dropdown{
      position:absolute;
      top:100%;
      left:0;
      background:#fff;
      border:1px solid #e5e7eb;
      border-radius:8px;
      padding:.5rem .75rem;
      list-style:none;
      min-width:180px;
      box-shadow:0 20px 40px rgba(0,0,0,.08);
      display:none;
      z-index:2000;
    }
    .has-dropdown:hover > .dropdown{ display:block; }
    .has-dropdown > .dropdown li a{
      color:#0f172a;
      font-weight:500;
      text-decoration:none;
      display:block;
      padding:.4rem 0;
    }
    .has-dropdown > .dropdown li a:hover{ text-decoration:underline; }

    .call-cta.btn{
      white-space:nowrap;
      font-weight:700;
      line-height:1.2;
      background:#fff;
      color:#C16E7A !important;
      border:2px solid #C16E7A;
      border-radius:999px;
      box-shadow:0 4px 10px rgba(0,0,0,.08);
      padding:12px 20px;
      text-decoration:none;
      display:inline-block;
      transition:all .25s ease;
    }
    .call-cta.btn:hover{
      background:#A15363;
      color:#fff !important;
      border-color:#A15363;
      text-decoration:none;
      box-shadow:0 8px 20px rgba(0,0,0,.18);
    }

    @media(max-width:768px){
      .container.header{ align-items:flex-start; }
      .nav-toggle{ display:block; order:2; min-width:44px; min-height:44px; }

      #site-nav.nav{
        order:3;
        flex-direction:column;
        width:100%;
        border:1px solid #e5e7eb;
        border-radius:12px;
        padding:1rem;
        background:#fff;
        box-shadow:0 18px 32px rgba(0,0,0,.08);
        display:none;
        position:static;
        max-height:70vh;
        overflow-y:auto;
      }
      #site-nav.nav.is-open{ display:flex; }

      .nav-list{
        flex-direction:column;
        align-items:flex-start;
        gap:.75rem;
        width:100%;
      }
      .nav-list > li > a{
        color:#0f172a;
        font-weight:600;
        font-size:1rem;
        padding:.5rem 0;
        width:100%;
        justify-content:space-between;
      }

      .has-dropdown > .dropdown{
        position:static;
        border:none;
        border-radius:0;
        box-shadow:none;
        padding:0 .75rem .5rem;
        display:none;
        background:#fff;
        min-width:auto;
      }
      .has-dropdown.is-open > .dropdown{ display:block; }

      .has-dropdown > a{
        display:flex;
        align-items:center;
        justify-content:space-between;
        gap:.5rem;
      }
      .has-dropdown > a .caret{
        width:10px;
        height:10px;
        border-right:2px solid #475569;
        border-bottom:2px solid #475569;
        transform:rotate(45deg);
        transition:transform .2s ease;
      }
      .has-dropdown.is-open > a .caret{ transform:rotate(225deg); }

      .call-cta.btn{
        display:block;
        width:100%;
        text-align:center;
        margin-top:1rem;
        font-size:1rem;
        font-weight:700;
        background:#5a1c2e;
        border-color:#5a1c2e;
        color:#fff !important;
        box-shadow:0 8px 24px rgba(0,0,0,.18);
      }
      .call-cta.btn:hover{
        background:#4a1726;
        border-color:#4a1726;
        color:#fff !important;
      }
    }

    /* ================= PAGE ================= */
    body{
      font-family: system-ui, Arial, sans-serif;
      background:#fff;
      color:#0f172a;
      margin:0;
      line-height:1.6;
    }

    .skip-link{
      position:absolute;
      left:-999px;
      top:auto;
      width:1px;
      height:1px;
      overflow:hidden;
    }
    .skip-link:focus{
      left:16px;
      top:16px;
      width:auto;
      height:auto;
      background:#fff;
      color:#0f172a;
      padding:10px 12px;
      border-radius:10px;
      box-shadow:0 10px 24px rgba(0,0,0,.15);
      z-index:10000;
    }

    main{
      max-width:900px;
      margin:60px auto;
      padding:0 20px 60px;
    }

    h1{
      color:#e11d48;
      font-size:clamp(26px, 4vw, 34px);
      margin-bottom:10px;
    }

    p{ color:#475569; margin-bottom:18px; }

    form{
      background:#fff;
      border:1px solid #e5e7eb;
      border-radius:20px;
      padding:32px;
      box-shadow:0 8px 24px rgba(0,0,0,.06);
    }

    .form-grid{
      display:grid;
      gap:20px;
      grid-template-columns:1fr;
    }
    @media (min-width:768px){
      .form-grid{ grid-template-columns:1fr 1fr; }
      .form-grid .full{ grid-column:1 / -1; }
    }

    label{
      font-weight:600;
      color:#0f172a;
      display:block;
      margin-bottom:6px;
    }

    input, textarea, select{
      width:100%;
      padding:12px;
      border:1px solid #d1d5db;
      border-radius:10px;
      font-size:16px;
      transition:border-color .2s;
    }

    input:focus, textarea:focus, select:focus{
      outline:none;
      border-color:#e11d48;
      box-shadow:0 0 0 3px rgba(225, 29, 72, .15);
    }

    textarea{ min-height:120px; resize:vertical; }

    .captcha-row{
      margin-top:14px;
      display:flex;
      justify-content:flex-start;
      align-items:flex-start;
      gap:12px;
      flex-wrap:wrap;
    }

    button{
      background:#e11d48;
      color:#fff;
      border:none;
      padding:14px 24px;
      border-radius:999px;
      font-weight:700;
      font-size:16px;
      cursor:pointer;
      transition:background .2s ease;
      margin-top:14px;
    }
    button:hover{ background:#c8103f; }
    button:disabled{ opacity:.75; cursor:not-allowed; }

    .privacy-note{
      margin-top:12px;
      font-size:.92rem;
      color:#64748b;
    }
    .privacy-note a{
      color:#e11d48;
      font-weight:700;
      text-decoration:none;
    }
    .privacy-note a:hover{ text-decoration:underline; }

    .contact-info{
      margin-top:40px;
      background:#fdf2f8;
      border:1px solid #fbcfe8;
      border-radius:16px;
      padding:24px;
    }
    .contact-info h2{
      color:#e11d48;
      margin-bottom:12px;
    }
    .contact-info p{
      margin:6px 0;
      color:#334155;
    }
    .contact-info a{
      color:#e11d48;
      text-decoration:none;
      font-weight:600;
    }
    .contact-info a:hover{ text-decoration:underline; }

    .form-alert{
      margin-top:16px;
      padding:12px 16px;
      border-radius:12px;
      font-weight:500;
      display:none;
    }
    .form-alert.success{
      background:#ecfdf3;
      color:#166534;
      border:1px solid #bbf7d0;
      display:block;
    }
    .form-alert.error{
      background:#fef2f2;
      color:#b91c1c;
      border:1px solid #fecaca;
      display:block;
    }
  </style>
</head>

<body>
  <a class="skip-link" href="#main">Skip to main content</a>

  <!-- ================= HEADER ================= -->
  <header class="topbar" role="banner">
    <div class="container header">
      <a class="brand" href="index.html" aria-label="Thalita’s Cleaning - Home" rel="home">
        <img src="images/logo.png" alt="Thalita’s Cleaning logo" class="logo" width="240" height="70" loading="eager" />
      </a>

      <button class="nav-toggle" aria-expanded="false" aria-controls="site-nav" aria-label="Open menu">
        <span class="bar"></span><span class="bar"></span><span class="bar"></span>
      </button>

      <nav id="site-nav" class="nav" aria-label="Main" itemscope itemtype="https://schema.org/SiteNavigationElement">
        <ul role="list" class="nav-list">
          <li class="has-dropdown">
            <a href="who-we-are.html" aria-haspopup="true" aria-expanded="false">
              <span>About Us</span><span class="caret" aria-hidden="true"></span>
            </a>
            <ul class="dropdown" role="menu" aria-label="About Us submenu">
              <li role="none"><a role="menuitem" href="who-we-are.html">Who We Are</a></li>
              <li role="none"><a role="menuitem" href="our-guarantees.html">Our Guarantees</a></li>
            </ul>
          </li>

          <li class="has-dropdown">
            <a itemprop="url" href="index.html#services" aria-haspopup="true" aria-expanded="false">
              <span itemprop="name">Services</span><span class="caret" aria-hidden="true"></span>
            </a>
            <ul class="dropdown" role="menu" aria-label="Services submenu">
              <li role="none"><a role="menuitem" href="residential.html">Residential</a></li>
              <li role="none"><a role="menuitem" href="commercial.html">Commercial</a></li>
              <li role="none"><a role="menuitem" href="move-in-move-out.html">Move-In/Move-Out</a></li>
            </ul>
          </li>

          <li class="has-dropdown">
            <a itemprop="url" href="index.html#tips" aria-haspopup="true" aria-expanded="false">
              <span itemprop="name">Tips</span><span class="caret" aria-hidden="true"></span>
            </a>
            <ul class="dropdown" role="menu" aria-label="Tips submenu">
              <li role="none"><a role="menuitem" href="cleaning-tips.html">Cleaning Tips</a></li>
              <li role="none"><a role="menuitem" href="practically-spotless-blog.html">Practically Spotless Blog</a></li>
            </ul>
          </li>

          <li><a itemprop="url" href="index.html#coverage-area"><span itemprop="name">Coverage Area</span></a></li>
          <li><a itemprop="url" href="index.html#why"><span itemprop="name">Why Hire Us</span></a></li>
          <li><a itemprop="url" href="index.html#reviews"><span itemprop="name">Reviews</span></a></li>
          <li><a itemprop="url" href="contact-us.html"><span itemprop="name">Contact Us</span></a></li>
        </ul>

        <a class="btn btn-pill btn-invert call-cta" href="contact-us.html">Request a Free Estimate</a>
      </nav>
    </div>
  </header>

  <main id="main">
    <h1>Request a Free Estimate</h1>
    <p>Fill out the form below and our team will contact you shortly with a personalized quote. We respond within 24 hours!</p>

    <!-- Formspree endpoint -->
    <form id="estimate-form" action="https://formspree.io/f/xldoogpg" method="POST" novalidate>
      <!-- Honeypot (anti-bot) -->
      <div class="sr-only" aria-hidden="true">
        <label for="company">Company</label>
        <input type="text" id="company" name="company" tabindex="-1" autocomplete="off">
      </div>

      <!-- Timestamp (anti-bot) -->
      <input type="hidden" id="ts" name="_ts" value="">

      <div class="form-grid">
        <div>
          <label for="name">Full Name *</label>
          <input type="text" id="name" name="name" required maxlength="80" autocomplete="name">
        </div>

        <div>
          <label for="email">Email *</label>
          <input type="email" id="email" name="email" required maxlength="120" autocomplete="email">
        </div>

        <div>
          <label for="phone">Phone *</label>
          <input type="tel" id="phone" name="phone" placeholder="(774) 581-8037" required maxlength="30" autocomplete="tel">
        </div>

        <div>
          <label for="address">Address</label>
          <input type="text" id="address" name="address" placeholder="Street, City, ZIP" maxlength="160" autocomplete="street-address">
        </div>

        <div class="full">
          <label for="service">Service Type *</label>
          <select id="service" name="service" required>
            <option value="">Select a Service</option>
            <option value="Residential Cleaning">Residential Cleaning</option>
            <option value="Commercial Cleaning">Commercial Cleaning</option>
            <option value="Deep Cleaning">Deep Cleaning</option>
            <option value="Move-In / Move-Out">Move-In / Move-Out</option>
            <option value="Post-Construction Cleaning">Post-Construction</option>
            <option value="Other">Other</option>
          </select>
        </div>

        <div class="full">
          <label for="message">Additional Details</label>
          <textarea id="message" name="message" placeholder="Tell us about your home, size, and preferred schedule..." maxlength="1000"></textarea>
        </div>

        <!-- CAPTCHA -->
        <div class="full">
          <label class="sr-only" for="captcha">Captcha</label>
          <div class="captcha-row">
            <div class="h-captcha" data-sitekey="d3946b22-4e1c-4f44-a1b8-2cee2268bf62"></div>
          </div>
          <p class="privacy-note" style="margin-top:10px;">
            By submitting, you agree we may contact you about your request. See our
            <a href="policy.html">Privacy Policy</a>.
          </p>
        </div>
      </div>

      <button type="submit" id="submit-btn">Send My Request</button>
      <div id="form-alert" class="form-alert" role="status" aria-live="polite"></div>
    </form>

    <div class="contact-info">
      <h2>Prefer to Contact Us Directly?</h2>
      <p><strong>Phone:</strong> <a href="tel:+17745818037">(774) 581-8037</a></p>
      <p><strong>Phone:</strong> <a href="tel:+17745207848">(774) 520-7848</a></p>
      <p><strong>Email:</strong> <a href="mailto:cleaningthalitas@gmail.com">cleaningthalitas@gmail.com</a></p>
      <p><strong>Service Areas:</strong> Greater Boston, MetroWest, Middlesex &amp; Norfolk Counties, MA.</p>
    </div>
  </main>

  <!-- ================= FOOTER ================= -->
  <div class="footer-divider" aria-hidden="true"></div>

  <footer class="footer visible" role="contentinfo" aria-label="Footer">
    <div class="container footer-grid">
      <section class="footer-brand" aria-labelledby="footer-brand-h">
        <h2 id="footer-brand-h" class="sr-only"></h2>
        <img src="images/logo2.png" alt="Thalita’s Cleaning" class="footer-logo" width="180" height="52" loading="lazy">
        <p class="footer-phone"><a href="tel:+17745818037" aria-label="Call Thalita’s Cleaning">(774) 581-8037</a></p>
        <p class="footer-email"><a href="mailto:cleaningthalitas@gmail.com">cleaningthalitas@gmail.com</a></p>
        <address class="footer-address">
          <a href="https://maps.google.com/?q=229+Hudson+St,+Marlborough,+MA+01752" target="_blank" rel="noopener">
            229 Hudson St, Marlborough, MA 01752
          </a>
        </address>

        <ul class="footer-social" role="list" aria-label="Social links">
          <li><a href="https://www.facebook.com/profile.php?id=61583193510755" target="_blank" rel="noopener" aria-label="Facebook" title="Facebook">
            <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M22 12a10 10 0 1 0-11.6 9.9v-7h-2.2V12h2.2V9.7c0-2.2 1.3-3.4 3.3-3.4.96 0 1.97.17 1.97.17v2.17h-1.11c-1.1 0-1.44.68-1.44 1.37V12h2.45l-.39 2.9h-2.06v7A10 10 0 0 0 22 12z"></path></svg>
          </a></li>
          <li><a href="https://www.instagram.com/cleaningthalitas" target="_blank" rel="noopener" aria-label="Instagram" title="Instagram">
            <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M7 2h10a5 5 0 0 1 5 5v10a5 5 0 0 1-5 5H7a5 5 0 0 1-5-5V7a5 5 0 0 1 5-5zm5 5a5 5 0 1 0 .001 10.001A5 5 0 0 0 12 7zm0 2.2a2.8 2.8 0 1 1 0 5.6 2.8 2.8 0 0 1 0-5.6zM18 6.6a1.1 1.1 0 1 0 0 2.2 1.1 1.1 0 0 0 0-2.2z"></path></svg>
          </a></li>
          <li><a href="https://www.youtube.com/@ThalitasCleaningLLC" target="_blank" rel="noopener" aria-label="YouTube" title="YouTube">
            <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M23.5 7.2a4 4 0 0 0-2.8-2.8C18.9 4 12 4 12 4s-6.9 0-8.7.4A4 4 0 0 0 .5 7.2 41.8 41.8 0 0 0 0 12c0 1.6.1 3.2.5 4.8a4 4 0 0 0 2.8 2.8C5.1 20 12 20 12 20s6.9 0 8.7-.4a4 4 0 0 0 2.8-2.8c.3-1.6.5-3.2.5-4.8 0-1.6-.2-3.2-.5-4.8zM9.8 15.3V8.7l6 3.3-6 3.3z"></path></svg>
          </a></li>
          <li><a href="https://x.com/cleanthalitas" target="_blank" rel="noopener" aria-label="X (Twitter)" title="X">
            <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M3 3h4.6l5.4 7.1L18 3h3.6l-7.2 9.2L22 21h-4.6l-5.8-7.6L9 21H5.4l7.4-9.4L3 3z"></path></svg>
          </a></li>
          <li><a href="https://www.thumbtack.com/profile/services/562867959339302929" target="_blank" rel="noopener" aria-label="Thumbtack" title="Thumbtack">
            <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M12 2c3.3 0 6 2.5 6 5.6 0 2.2-1.5 4.1-3.7 4.9l-.6 6.3a.9.9 0 0 1-1.4.7l-1.8-1.1a.9.9 0 0 0-1 .1l-1.2.9a.7.7 0 0 1-1.1-.7l1.1-6.1C7.3 12 6 10 6 7.7 6 4.5 8.7 2 12 2z"></path></svg>
          </a></li>
          <li><a href="mailto:cleaningthalitas@gmail.com" aria-label="Email" title="Email">
            <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M2 6a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V6zm2 .3V6l8 5 8-5v.3L12 12 4 6.3z"></path></svg>
          </a></li>
        </ul>

        <ul class="footer-badges" role="list">
          <li>Insured &amp; Bonded</li>
          <li>Background-Checked</li>
        </ul>
      </section>

      <nav class="footer-col" aria-labelledby="footer-services-h">
        <h3 id="footer-services-h">Services</h3>
        <ul role="list">
          <li><a href="residential.html">Residential Cleaning</a></li>
          <li><a href="residential.html">Deep Cleaning</a></li>
          <li><a href="move-in-move-out.html">Move-In / Move-Out</a></li>
          <li><a href="commercial.html">Office &amp; Janitorial</a></li>
          <li><a href="commercial.html">Post-Construction</a></li>
        </ul>
      </nav>

      <nav class="footer-col" aria-labelledby="footer-company-h">
        <h3 id="footer-company-h">Company</h3>
        <ul role="list">
          <li><a href="index.html#why">Why Hire Us</a></li>
          <li><a href="who-we-are.html">About Us</a></li>
          <li><a href="index.html#reviews">Reviews</a></li>
          <li><a href="index.html#coverage-area">Coverage Area</a></li>
          <li><a class="footer-cta" href="index.html#faq">FAQ</a></li>
        </ul>
      </nav>

      <nav class="footer-col" aria-labelledby="footer-resources-h">
        <h3 id="footer-resources-h">Resources</h3>
        <ul role="list">
          <li><a href="cleaning-tips.html">Cleaning Tips</a></li>
          <li><a href="practically-spotless-blog.html">Checklists</a></li>
          <li><a href="policy.html">Privacy Policy</a></li>
          <li><a href="terms.html">Terms of Use</a></li>
        </ul>
      </nav>
    </div>

    <hr class="footer-sep" aria-hidden="true">

    <div class="container footer-legal">
      <p class="footline">Serving Greater Boston &amp; MetroWest · Mon–Fri 8am–6pm · Massachusetts</p>
      <p class="disclaimer">© <span id="year">2025</span> Thalita’s Cleaning. All rights reserved.</p>
      <p class="tagline">A clean you can count on.</p>
    </div>
  </footer>

  <!-- ================= JS: NAV + FORM (CAPTCHA + ANTISPAM) ================= -->
  <script>
    // ================= NAV MOBILE (alinhado com seu padrão) =================
    (function () {
      const btn = document.querySelector('.nav-toggle');
      const nav = document.getElementById('site-nav');
      if (!btn || !nav) return;

      btn.addEventListener('click', () => {
        const isOpen = nav.classList.toggle('is-open');
        btn.setAttribute('aria-expanded', String(isOpen));
        document.body.classList.toggle('no-scroll', isOpen);
      });

      // dropdown mobile (abre ao clicar no item)
      document.querySelectorAll('.has-dropdown > a').forEach(a => {
        a.addEventListener('click', (e) => {
          if (window.matchMedia('(max-width: 768px)').matches) {
            e.preventDefault();
            a.parentElement.classList.toggle('is-open');
          }
        });
      });
    })();

    // ================= FORM SUBMIT (Formspree + hCaptcha + honeypot) =================
    (function () {
      const form = document.getElementById('estimate-form');
      const alertBox = document.getElementById('form-alert');
      const submitBtn = document.getElementById('submit-btn');
      const honey = document.getElementById('company');
      const tsField = document.getElementById('ts');

      if (!form || !alertBox || !submitBtn) return;

      // timestamp anti-bot
      const loadedAt = Date.now();
      if (tsField) tsField.value = String(loadedAt);

      function showAlert(type, msg) {
        alertBox.className = 'form-alert ' + type;
        alertBox.textContent = msg;
        alertBox.style.display = 'block';
      }

      form.addEventListener('submit', async function (e) {
        e.preventDefault();

        alertBox.className = 'form-alert';
        alertBox.style.display = 'none';

        // honeypot
        if (honey && honey.value.trim() !== '') {
          return; // silencioso
        }

        // tempo mínimo (bots enviam instantâneo)
        const elapsed = Date.now() - loadedAt;
        if (elapsed < 3000) {
          showAlert('error', 'Please wait a moment and try again.');
          return;
        }

        // CAPTCHA obrigatório
        const hasHcaptcha = typeof window.hcaptcha !== 'undefined';
        if (!hasHcaptcha) {
          showAlert('error', 'Captcha failed to load. Please refresh the page and try again.');
          return;
        }

        const token = window.hcaptcha.getResponse();
        if (!token) {
          showAlert('error', 'Please complete the captcha before sending.');
          return;
        }

        submitBtn.disabled = true;
        submitBtn.textContent = 'Sending...';

        try {
          const formData = new FormData(form);

          // info extra (opcional)
          formData.append('source', 'thalitas-cleaning-website');
          formData.append('page', 'contact-us');

          // o token do hCaptcha já vai no formData automaticamente (h-captcha-response),
          // mas garantimos aqui também:
          formData.set('h-captcha-response', token);

          const response = await fetch(form.action, {
            method: 'POST',
            body: formData,
            headers: { 'Accept': 'application/json' }
          });

          if (response.ok) {
            form.reset();
            try { window.hcaptcha.reset(); } catch (_) {}
            showAlert('success', 'Thank you! Your request has been sent. We will contact you soon.');
          } else {
            let data = null;
            try { data = await response.json(); } catch (_) {}
            const msg = (data && (data.error || data.message)) ? (data.error || data.message) : 'There was a problem sending your request.';
            throw new Error(msg);
          }
        } catch (err) {
          showAlert('error', 'Oops, something went wrong. Please try again or call (774) 581-8037.');
        } finally {
          submitBtn.disabled = false;
          submitBtn.textContent = 'Send My Request';
        }
      });
    })();

    // ================= YEAR =================
    (function () {
      const y = document.getElementById('year');
      if (y) y.textContent = String(new Date().getFullYear());
    })();
  </script>

  <!-- Se você já tem script.js global e quer manter, pode deixar este também: -->
  <script src="script.js" defer></script>
</body>
</html>
